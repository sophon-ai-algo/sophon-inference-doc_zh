

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>C++ Samples Using BMNNSDK &mdash; SophonInference  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> SophonInference
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/abstract.html">Introduction of  Sophon Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/install.html">Sophon Inference Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/reminds.html">Reminds</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/tools.html">Useful Tools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../module/sail.html">SAIL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module/sail_cpp.html">SAIL C++ API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module/sail_python.html">SAIL Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module/autosplit.html">AutoSplit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module/autorunner.html">AutoRunner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module/algokit.html">Algokit</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="release_cpp.html">C++ Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_python.html">Python Samples</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SophonInference</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>C++ Samples Using BMNNSDK</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/demo/cpp.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="c-samples-using-bmnnsdk">
<h1>C++ Samples Using BMNNSDK<a class="headerlink" href="#c-samples-using-bmnnsdk" title="Permalink to this headline">¶</a></h1>
<div class="section" id="vpu-decode">
<h2>VPU decode<a class="headerlink" href="#vpu-decode" title="Permalink to this headline">¶</a></h2>
<p><strong>Introduction</strong></p>
<p>This sample program implements reading a local video file,
and drive the VPU hardware unit on the Sophon Deep Learning Acceleration Card to decode the video file.</p>
<p>The program source file is located under: “samples/cpp_bmnnsdk/vpu_decode”.</p>
<p><strong>Execution</strong></p>
<blockquote>
<div><div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># -v Local video file to be decoded.</span>
<span class="c1"># -t The number of threads that need to be opened,</span>
<span class="c1">#    each thread independently decodes a copy of the video file.</span>
<span class="c1"># -i The serial number of the SC3 to be used on host.</span>
./build/bin/vpu_decode -v <span class="nv">$HOME</span>/.sophon/data/fenix5plus.mp4 -t <span class="m">1</span> -i <span class="m">0</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="run-inceptionv1">
<h2>run_inceptionv1<a class="headerlink" href="#run-inceptionv1" title="Permalink to this headline">¶</a></h2>
<p><strong>Introduction</strong></p>
<p>This sample program implements deploying the inceptionv1 classification model on the Sophon TPU.
The inceptionv1 comes from the caffe official model zoo.
Since the program is written based on the native interfaces provided by BMNNSDK,
if you have questions about the details of the interface,
please refer to the “NNToolChain User Documentation”.</p>
<p>The program source file is located under: “samples/cpp_bmnnsdk/run_inceptionv1”.</p>
<p><strong>Execution</strong></p>
<blockquote>
<div><div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download and convert model, generate bmodel file.</span>
python3 tools/download_and_convert.py googlenet

<span class="c1"># load bmodel，drive TPU to complete reasoning.</span>
./build/bin/run_inceptionv1 <span class="nv">$HOME</span>/.sophon/models/googlenet_ir <span class="nv">$HOME</span>/.sophon/data/cls_imgs/cls_1.jpg
</pre></div>
</div>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Sophon

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>